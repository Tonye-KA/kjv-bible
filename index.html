<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>KJV Holy Bible – The Edify Hub</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Georgia, serif;
  margin: 16px;
  line-height: 1.7;
}
h1 {
  text-align: center;
  margin-bottom: 10px;
}
select {
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
  font-size: 16px;
}
.verse {
  margin-bottom: 8px;
}
.verse-number {
  font-size: 0.8em;
  vertical-align: super;
  margin-right: 6px;
}
#loading {
  text-align: center;
  font-style: italic;
}
#error {
  color: red;
  text-align: center;
}
</style>
</head>

<body>

<h1>KJV Holy Bible</h1>

<select id="bookSelect"></select>
<select id="chapterSelect"></select>

<div id="loading">Loading Bible…</div>
<div id="error"></div>
<div id="bibleText"></div>

<script>
const API_BASE = "https://bible-api.com/";

const books = [
  "Genesis","Exodus","Leviticus","Numbers","Deuteronomy",
  "Joshua","Judges","Ruth","1 Samuel","2 Samuel",
  "1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra",
  "Nehemiah","Esther","Job","Psalms","Proverbs",
  "Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations",
  "Ezekiel","Daniel","Hosea","Joel","Amos",
  "Obadiah","Jonah","Micah","Nahum","Habakkuk",
  "Zephaniah","Haggai","Zechariah","Malachi",
  "Matthew","Mark","Luke","John","Acts",
  "Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians",
  "Philippians","Colossians","1 Thessalonians","2 Thessalonians",
  "1 Timothy","2 Timothy","Titus","Philemon",
  "Hebrews","James","1 Peter","2 Peter",
  "1 John","2 John","3 John","Jude","Revelation"
];

const bookSelect = document.getElementById("bookSelect");
const chapterSelect = document.getElementById("chapterSelect");
const bibleText = document.getElementById("bibleText");
const loading = document.getElementById("loading");
const error = document.getElementById("error");

// Populate books
books.forEach(book => {
  const opt = document.createElement("option");
  opt.value = book;
  opt.textContent = book;
  bookSelect.appendChild(opt);
});

// Load chapters dynamically
function loadChapters() {
  chapterSelect.innerHTML = "";
  for (let i = 1; i <= 150; i++) {
    const opt = document.createElement("option");
    opt.value = i;
    opt.textContent = "Chapter " + i;
    chapterSelect.appendChild(opt);
  }
  loadScripture();
}

// Load verses
function loadScripture() {
  bibleText.innerHTML = "";
  loading.style.display = "block";
  error.textContent = "";

  const book = bookSelect.value;
  const chapter = chapterSelect.value;

  fetch(`${API_BASE}${book}%20${chapter}?translation=kjv`)
    .then(res => res.json())
    .then(data => {
      loading.style.display = "none";
      if (!data.verses) {
        error.textContent = "Chapter not found.";
        return;
      }
      data.verses.forEach(v => {
        const div = document.createElement("div");
        div.className = "verse";
        div.innerHTML = `<span class="verse-number">${v.verse}</span>${v.text}`;
        bibleText.appendChild(div);
      });
    })
    .catch(() => {
      loading.style.display = "none";
      error.textContent = "Unable to load Scripture. Please try again.";
    });
}

bookSelect.onchange = loadChapters;
chapterSelect.onchange = loadScripture;

// Initial load
loadChapters();
</script>

</body>
</html>
